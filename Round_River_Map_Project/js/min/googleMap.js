"use strict";function loadContent(e){var a=largeInfowindow,o=apiPath+gps+apiKey+units;$.getJSON(o).done(function(o){weatherData=o,currentTemp=Math.round(weatherData.main.temp),maxTemp=Math.round(weatherData.main.temp_max),minTemp=Math.round(weatherData.main.temp_min),humidity=Math.round(weatherData.main.humidity),description=weatherData.weather[0].main,weatherImage="images/weather/"+weatherData.weather[0].icon+".png";var t='<div class="iw-container"><div class="iw-title">'+e.title+'</div><div class="iw-moreInfo"><a class="iw-moreInfoText" target="_blank" href='+e.siteUrl+'>info</a></div><div><img class="infoWindowImage" src='+e.siteImage+'></div><div class="weather" ><div class="iw-ImageDiv"><img class="iw-Image" src='+weatherImage+'></div><div class="listing"><p class="stats" >'+currentTemp+'F</p></div><div class="listing"><p class="stats" >'+humidity+'%</p></div><div class="credits"><a target="_blank" href="http://openweathermap.org/weathermap" title="Credit: OpenWeatherMap.org"><img src="images/OpenWeatherMap_logo.png">';a.marker!=e&&(a.marker=e,map.setZoom(9),map.setCenter(e.getPosition()),a.setContent(t),a.open(map,e),a.addListener("closeclick",function(){a.marker=null}))}).fail(function(){alert("Load Error: Open Weather Map API")})}function populateInfoWindow(e){gps="lat="+e.latitude+"&lon="+e.longitude,loadContent(e),e.setAnimation(google.maps.Animation.BOUNCE),setTimeout(function(){e.setAnimation(null)},3500)}function hideInfoWindow(e){var a=largeInfowindow;a.marker=null}function makeMarkerIcon(e){var a=new google.maps.MarkerImage(e,new google.maps.Size(33,33),new google.maps.Point(0,0),new google.maps.Point(17,33),new google.maps.Size(33,33));return a}function createMarkers(){defaultIcon=makeMarkerIcon("images/RR-circle.png"),highlightedIcon=makeMarkerIcon("images/RR-circle-highlight.png");for(var e=vm.locations().length,a=0;a<e;a++){var o=vm.locations()[a].location,t=vm.locations()[a].title,n=vm.locations()[a].siteUrl,i=vm.locations()[a].siteImage,r=vm.locations()[a].location.lat,s=vm.locations()[a].location.lng,l=new google.maps.Marker({position:o,title:t,siteUrl:n,siteImage:i,latitude:r,longitude:s,animation:google.maps.Animation.DROP,icon:defaultIcon,id:a,animation:google.maps.Animation.DROP,map:map});vm.locations()[a].marker=l,bounds.extend(l.position),l.addListener("click",function(){populateInfoWindow(this)}),l.addListener("mouseover",function(e){return function(){vm.listMouseOver(vm.locations()[e])}}(a)),l.addListener("mouseout",function(e){return function(){vm.listMouseOut(vm.locations()[e])}}(a))}map.fitBounds(bounds)}function initMap(){map=new google.maps.Map(document.getElementById("map"),{center:{lat:40.7501481,lng:-111.8665667},zoom:1,maxZoom:17,backgroundColor:"#af9a6b",styles:styles,mapTypeId:"terrain",mapTypeControl:!0,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle.HORIZONTAL_BAR,position:google.maps.ControlPosition.TOP_RIGHT}}),bounds=new google.maps.LatLngBounds,largeInfowindow=new google.maps.InfoWindow,createMarkers()}function mapError(){alert("Load Error: Google Maps API"),console.log("Load Error: Google Maps API")}